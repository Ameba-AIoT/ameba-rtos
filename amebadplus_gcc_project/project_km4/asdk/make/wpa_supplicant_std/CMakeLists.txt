set(
    DIR 
    ${BASEDIR}/component/wifi/wpa_supplicant_std
)

set(TARGET_LIB wpa_std)

set(
    MODULE_IFLAGS 
    ${DIR}
	${DIR}/hostapd
	${DIR}/wpa_supplicant
	${DIR}/freertos
	${DIR}/freertos/src
	${DIR}/src
	${DIR}/src/ap
	${DIR}/src/common
	${DIR}/src/crypto
	${DIR}/src/drivers
	${DIR}/src/eap_common
	${DIR}/src/eap_peer
	${DIR}/src/eap_server
	${DIR}/src/eapol_auth
	${DIR}/src/eapol_supp
	${DIR}/src/fst
	${DIR}/src/l2_packet
	${DIR}/src/p2p
	${DIR}/src/pae
	${DIR}/src/radius
	${DIR}/src/rsn_supp
	${DIR}/src/tls
	${DIR}/src/utils
	${DIR}/src/wps
	${DIR}/port/mbedtls
)

set(
  CSRC 
  ${DIR}/src/common/wpa_common.c
  ${DIR}/src/common/ieee802_11_common.c
  ${DIR}/src/common/hw_features_common.c
  ${DIR}/src/common/wpa_ctrl.c
  ${DIR}/src/common/cli.c
  ${DIR}/src/drivers/driver_common.c
  ${DIR}/src/drivers/drivers.c
  ${DIR}/src/l2_packet/l2_packet_freertos.c
  ${DIR}/src/drivers/driver_freertos.c
  ${DIR}/src/utils/base64.c
  ${DIR}/src/utils/common.c
  ${DIR}/src/utils/wpabuf.c
  ${DIR}/src/utils/bitfield.c
  ${DIR}/src/utils/os_freertos.c
  ${DIR}/src/utils/crc32.c
  ${DIR}/src/utils/ip_addr.c
  ${DIR}/src/utils/block_alloc.c
  ${DIR}/wpa_supplicant/config.c
  ${DIR}/wpa_supplicant/notify.c
  ${DIR}/wpa_supplicant/bss.c
  ${DIR}/wpa_supplicant/eap_register.c
  ${DIR}/wpa_supplicant/op_classes.c
  ${DIR}/wpa_supplicant/rrm.c
  ${DIR}/wpa_supplicant/wmm_ac.c
  ${DIR}/wpa_supplicant/config_none.c
  ${DIR}/wpa_supplicant/sme.c
  ${DIR}/wpa_supplicant/wpa_supplicant.c
  ${DIR}/wpa_supplicant/events.c
  ${DIR}/wpa_supplicant/bssid_ignore.c
  ${DIR}/wpa_supplicant/wpas_glue.c
  ${DIR}/wpa_supplicant/scan.c
  ${DIR}/wpa_supplicant/robust_av.c
  ${DIR}/wpa_supplicant/ctrl_iface.c
  ${DIR}/wpa_supplicant/ctrl_iface_udp.c
  ${DIR}/wpa_supplicant/mbo.c
  ${DIR}/wpa_supplicant/wnm_sta.c
  ${DIR}/src/utils/wpa_debug.c
  ${DIR}/freertos/src/supp_main.c
  ${DIR}/freertos/src/supp_api.c
  ${DIR}/wpa_supplicant/ap.c
  ${DIR}/src/ap/ap_config.c
  ${DIR}/src/ap/ap_drv_ops.c
  ${DIR}/src/ap/ap_list.c
  ${DIR}/src/ap/ap_mlme.c
  ${DIR}/src/ap/authsrv.c
  ${DIR}/src/ap/beacon.c
  ${DIR}/src/ap/bss_load.c
  ${DIR}/src/ap/dfs.c
  ${DIR}/src/ap/drv_callbacks.c
  ${DIR}/src/ap/eap_user_db.c
  ${DIR}/src/ap/hostapd.c
  ${DIR}/src/ap/hw_features.c
  ${DIR}/src/ap/ieee802_11_auth.c
  ${DIR}/src/ap/ieee802_11.c
  ${DIR}/src/ap/ieee802_11_he.c
  ${DIR}/src/ap/ieee802_11_ht.c
  ${DIR}/src/ap/ieee802_11_shared.c
  ${DIR}/src/ap/ieee802_11_vht.c
  ${DIR}/src/ap/ieee802_1x.c
  ${DIR}/src/ap/neighbor_db.c
  ${DIR}/src/ap/p2p_hostapd.c
  ${DIR}/src/ap/pmksa_cache_auth.c
  ${DIR}/src/ap/preauth_auth.c
  ${DIR}/src/ap/rrm.c
  ${DIR}/src/ap/sta_info.c
  ${DIR}/src/ap/tkip_countermeasures.c
  ${DIR}/src/ap/utils.c
  ${DIR}/src/ap/wmm.c
  ${DIR}/src/ap/ctrl_iface_ap.c
  ${DIR}/src/ap/mbo_ap.c
  ${DIR}/src/ap/wpa_auth.c
  ${DIR}/src/ap/wpa_auth_ie.c
  ${DIR}/src/ap/wpa_auth_ft.c
  ${DIR}/src/ap/wpa_auth_glue.c
  ${DIR}/src/eap_common/eap_common.c
  ${DIR}/src/eap_server/eap_server.c
  ${DIR}/src/eap_server/eap_server_identity.c
  ${DIR}/src/eap_server/eap_server_methods.c
  ${DIR}/src/eapol_auth/eapol_auth_sm.c
  ${DIR}/src/crypto/aes-eax.c
  ${DIR}/src/crypto/aes-encblock.c
  ${DIR}/src/crypto/aes-ctr.c
  ${DIR}/src/crypto/aes-cbc.c
  ${DIR}/src/crypto/aes-siv.c
  ${DIR}/src/crypto/aes-unwrap.c
  ${DIR}/src/crypto/aes-wrap.c
  ${DIR}/src/crypto/des-internal.c
  ${DIR}/src/crypto/dh_groups.c
  ${DIR}/src/crypto/rc4.c
  ${DIR}/src/crypto/md4-internal.c
  ${DIR}/src/crypto/md5.c
  ${DIR}/src/crypto/md5-internal.c
  ${DIR}/src/crypto/sha1-internal.c
  ${DIR}/src/crypto/sha256-internal.c
  ${DIR}/src/crypto/sha1.c
  ${DIR}/src/crypto/sha256.c
  ${DIR}/src/crypto/tls_none.c
  ${DIR}/src/crypto/ms_funcs.c
  ${DIR}/src/crypto/sha1-tlsprf.c
  ${DIR}/src/crypto/sha1-prf.c
  ${DIR}/src/crypto/sha256-prf.c
  ${DIR}/src/crypto/sha1-pbkdf2.c
  ${DIR}/src/crypto/aes-omac1.c
  ${DIR}/src/crypto/aes-internal-enc.c
  ${DIR}/src/crypto/aes-internal-dec.c
  ${DIR}/src/crypto/aes-internal.c
  ${DIR}/src/rsn_supp/wpa.c
  ${DIR}/src/rsn_supp/preauth.c
  ${DIR}/src/rsn_supp/pmksa_cache.c
  ${DIR}/src/rsn_supp/wpa_ie.c
  ${DIR}/src/crypto/crypto_mbedtls2.c
  ${DIR}/src/crypto/tls_mbedtls2.c
  ${DIR}/src/crypto/sha256-kdf.c
  ${DIR}/src/crypto/sha384-kdf.c
  ${DIR}/src/crypto/sha512-kdf.c
  ${DIR}/src/common/sae.c
  ${DIR}/src/common/dragonfly.c
  ${DIR}/wpa_supplicant/p2p_supplicant.c
  ${DIR}/wpa_supplicant/p2p_supplicant_sd.c
  ${DIR}/src/p2p/p2p.c
  ${DIR}/src/p2p/p2p_utils.c
  ${DIR}/src/p2p/p2p_parse.c
  ${DIR}/src/p2p/p2p_build.c
  ${DIR}/src/p2p/p2p_go_neg.c
  ${DIR}/src/p2p/p2p_sd.c
  ${DIR}/src/p2p/p2p_pd.c
  ${DIR}/src/p2p/p2p_invitation.c
  ${DIR}/src/p2p/p2p_dev_disc.c
  ${DIR}/src/p2p/p2p_group.c
  ${DIR}/src/common/gas.c
  ${DIR}/wpa_supplicant/gas_query.c
  ${DIR}/wpa_supplicant/offchannel.c
  ${DIR}/wpa_supplicant/wps_supplicant.c
  ${DIR}/src/utils/uuid.c
  ${DIR}/src/eap_peer/eap_wsc.c
  ${DIR}/src/eap_common/eap_wsc_common.c
  ${DIR}/src/wps/wps.c
  ${DIR}/src/ap/wps_hostapd.c
  ${DIR}/src/wps/wps_common.c
  ${DIR}/src/wps/wps_attr_parse.c
  ${DIR}/src/wps/wps_attr_build.c
  ${DIR}/src/wps/wps_attr_process.c
  ${DIR}/src/wps/wps_dev_attr.c
  ${DIR}/src/wps/wps_enrollee.c
  ${DIR}/src/wps/wps_registrar.c
  ${DIR}/src/eapol_supp/eapol_supp_sm.c
  ${DIR}/src/eap_peer/eap.c
  ${DIR}/src/eap_peer/eap_methods.c
  ${DIR}/src/eap_peer/eap_tls.c
  ${DIR}/src/eap_peer/eap_tls_common.c
  ${DIR}/src/eap_peer/eap_peap.c
  ${DIR}/src/eap_common/eap_peap_common.c
  ${DIR}/src/eap_peer/eap_ttls.c
  ${DIR}/src/eap_peer/eap_mschapv2.c
  ${DIR}/src/eap_common/chap.c
  ${DIR}/src/eap_peer/mschapv2.c
  ${DIR}/src/eap_peer/eap_gtc.c
  ${DIR}/hostapd/ctrl_iface.c
  ${DIR}/hostapd/eap_register.c
  ${DIR}/src/rsn_supp/wpa_ft.c
  ${DIR}/src/ap/wnm_ap.c
  ${DIR}/src/ap/eth_p_oui.c
  ${DIR}/src/eap_server/eap_server_wsc.c
  ${DIR}/src/eap_server/eap_server_tls.c
  ${DIR}/src/radius/radius_server.c
  ${DIR}/src/radius/radius_das.c
  ${DIR}/src/radius/radius_client.c
  ${DIR}/src/radius/radius.c
  ${DIR}/src/eap_server/eap_server_ttls.c
  ${DIR}/src/eap_server/eap_server_tls_common.c
  ${DIR}/src/eap_server/eap_server_peap.c
  ${DIR}/src/eap_server/eap_server_mschapv2.c
  ${DIR}/src/eap_server/eap_server_md5.c
  ${DIR}/src/eap_server/eap_server_gtc.c
  ${DIR}/src/ap/acs.c
  ${DIR}/src/utils/eloop_freertos.c
)


list(
    APPEND
    MODULE_IFLAGS
    ${DIR}
    ${APP_DIR}/include
    ${FREERTOSDIR}/include
    ${FREERTOSDIR}/portable/GCC/AmebaDplus_KM4/non_secure
    ${FREERTOSDIR}/portable/GCC/AmebaDplus_KM4/secure
)
ameba_app_library_with_gitver(${TARGET_LIB})
target_sources(${CURRENT_LIB_NAME} PRIVATE ${CSRC})
target_include_directories(${CURRENT_LIB_NAME} PRIVATE ${MODULE_IFLAGS})